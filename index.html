<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <title>Rick and Morty Search</title>
  <style>
    body { font-family: sans-serif; padding: 2rem; background: #f4f4f4; }
    #result img { width: 200px; border-radius: 1rem; }
    .card { background: white; padding: 1rem; border-radius: 1rem; box-shadow: 0 0 10px #ccc; max-width: 300px; }
  </style>
</head>
<body>
  <h1>Buscar Personaje de Rick and Morty</h1>
  <input type="text" id="search" placeholder="Escribe un nombre" />
  <button onclick="buscarPersonaje()">Buscar</button>
  <div id="result"></div>

  <script>
    async function buscarPersonaje() {
      const name = document.getElementById('search').value;
      const resultDiv = document.getElementById('result');
      resultDiv.innerHTML = 'Cargando...';

      try {
        const response = await fetch(`http://localhost:3000/characters/${name}`);
        if (!response.ok) throw new Error('Personaje no encontrado');

        const personaje = await response.json();
        resultDiv.innerHTML = `
          <div class="card">
            <h2>${personaje.name}</h2>
            <img src="${personaje.image}" alt="${personaje.name}" />
            <p><strong>Status:</strong> ${personaje.status}</p>
            <p><strong>Species:</strong> ${personaje.species}</p>
            <p><strong>Gender:</strong> ${personaje.gender}</p>
            <p><strong>Origin:</strong> ${personaje.origin.name}</p>
          </div>
        `;
      } catch (error) {
        resultDiv.innerHTML = `<p style="color:red;">${error.message}</p>`;
      }
    }
  </script>
</body>
</html>
